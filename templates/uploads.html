<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Danh sách ảnh đã upload</title>
    <link rel="stylesheet" href="../static/styles.css">
    <link rel="icon" href="../static/Images/icon.svg" type="image/png">
</head>
<body>
    <nav style="background-color: #0078D7; padding: 15px;">
        <a href="{{ url_for('index') }}" style="color: white; text-decoration: none; margin-right: 20px; font-weight: bold;">Trang chủ</a>
        <a href="{{ url_for('uploads_page') }}" style="color: white; text-decoration: none; font-weight: bold;">Ảnh đã upload</a>
    </nav>
    
    <form action="{{ url_for('search_by_label') }}" method="get" class="search-form">
        <input type="text" name="label" placeholder=" Tìm theo nhãn (vd: person, cat,...)" required class="search-input">
        <button type="submit" class="search-button">Tìm kiếm</button>
    </form>    

    <h2>Ảnh đã upload</h2>

    <div class="gallery">
        {% for img in images %}
            <div class="item">
                <a href="{{ url_for('detect_existing', filename=img.filename) }}">
                    <img src="{{ img.url }}" alt="Uploaded image">
                </a>
                <form method="POST" action="{{ url_for('delete_file', filename=img.filename) }}">
                    <button type="submit" onclick="return confirm('Bạn có chắc muốn xoá ảnh này?')">🗑️ Xoá</button>
                </form>
            </div>
        {% endfor %}
    </div>
</body>
</html>
